# Shader Playground

A WebGL2 shader visualization tool with interactive controls. Built using iterative domain warping techniques to create organic, flowing patterns.

**Live Demo:** [https://degensugarboo.github.io/webgl_math_shaders/](https://degensugarboo.github.io/webgl_math_shaders/)

## Running Locally

```bash
cd webgl_math_shaders
python3 -m http.server 8080
# Open http://localhost:8080
```

## Features

Five different pattern variations:
- **Rocaille** - Swirling plasma with organic tendrils (the original)
- **Liquid Oil** - Smooth, flowing shapes without fractal detail
- **Electric Grid** - Diamond-shaped patterns using Manhattan distance
- **Kaleidoscope** - Symmetrical mandala patterns
- **Alien Biome** - Rainbow spectrum with IQ color palette

Six adjustable parameters:
- Speed, Zoom, Warp Strength, Glow, Color Shift, Detail

---

## How It Works

The shader creates these patterns through a combination of mathematical techniques commonly used in procedural graphics.

### Domain Warping

The core effect. Instead of drawing shapes, we distort coordinate space itself.

```glsl
v += sin(v.yx * f + i + t) / f;
```

Each pixel asks "where would I be if space was folded?" The `v.yx` swap makes the distortion curl perpendicular to position, which is what creates the spiral patterns rather than simple waves.

### Fractal Brownian Motion

The multi-octave layering that adds natural complexity:

```glsl
for (float f = 1.0; f < 10.0; f++) {
    v += sin(...) / f;
}
```

Same principle as Perlin noise - layer waves at increasing frequencies with decreasing amplitudes. Big shapes with progressively finer detail.

### Orbit Traps

The glowing strands come from measuring distance to the origin after warping:

```glsl
col += ... / length(v);
```

Points that warp close to (0,0) get bright. Points that warp far away stay dark. Originally from Mandelbrot rendering.

The Electric Grid variation uses Manhattan distance (`abs(x) + abs(y)`) instead of Euclidean distance, which creates the diamond shapes.

### Cosine Palettes

Colors are generated by phase-shifting cosine waves:

```glsl
col = cos(i + vec4(0.0, 1.0, 2.0, 3.0)) + 1.0;
```

This is Inigo Quilez's palette technique. By offsetting the phase for R, G, B channels, you get smooth color gradients without lookup tables.

### Tone Mapping

```glsl
fragColor = tanh(col * col);
```

The shader accumulates brightness that can exceed 1.0, so we need to compress it back to displayable range. Squaring before tanh gives a high-contrast, saturated look.

---

## Coordinate System

```glsl
vec2 p = (gl_FragCoord.xy * 2.0 - iResolution) / iResolution.y / iZoom;
```

This centers the coordinate system at (0,0) in the middle of the screen, normalizes by height to maintain aspect ratio, and applies the zoom factor.

---

## References

- [Inigo Quilez - Domain Warping](https://iquilezles.org/articles/warp/)
- [Inigo Quilez - Palettes](https://iquilezles.org/articles/palettes/)
- [The Book of Shaders](https://thebookofshaders.com/)

## Credits

Original "Rocaille" shader concept by [@XorDev](https://x.com/XorDev).

## License

MIT
